# 折扣设置管理页面

## 功能概述

折扣设置管理页面是一个综合性的代理商折扣管理系统，支持三级折扣体系（A、B、C等级），每个产品可以设置不同的折扣率。

## 主要功能

### 1. 折扣等级管理
- **新增等级**：创建新的折扣等级（如A级、B级、C级）
- **编辑等级**：修改等级信息，包括等级代码、名称、描述和排序
- **删除等级**：删除不需要的折扣等级
- **状态管理**：启用/禁用折扣等级

### 2. 产品折扣配置
- **按等级配置**：为每个折扣等级配置特定产品的折扣率
- **产品类型支持**：支持一日游和跟团游两种产品类型
- **灵活配置**：
  - 自定义折扣率（以百分比形式）
  - 设置最小订单金额限制
  - 设置最大折扣金额限制
  - 配置生效时间范围
- **批量操作**：支持批量设置某个等级的所有产品折扣率

### 3. 折扣使用统计
- **统计概览**：
  - 总折扣金额
  - 总订单数
  - 平均折扣率
  - 平均折扣金额
- **详细记录**：查看每笔折扣使用的详细信息
- **筛选功能**：按时间范围和产品类型筛选
- **数据导出**：支持导出统计数据

## 技术特点

### 前端技术栈
- **React 18**：使用最新的React Hooks
- **Ant Design 5**：现代化的UI组件库
- **SCSS**：样式预处理器，支持嵌套样式和变量
- **响应式设计**：适配不同屏幕尺寸

### 组件设计
- **模块化**：每个功能模块独立组件
- **可复用**：通用组件可在其他页面复用
- **状态管理**：使用React Hooks进行状态管理
- **错误处理**：完善的错误处理和用户提示

## API接口

### 折扣等级管理
- `GET /admin/discount/levels` - 获取所有折扣等级
- `POST /admin/discount/levels` - 创建折扣等级
- `PUT /admin/discount/levels` - 更新折扣等级
- `DELETE /admin/discount/levels/{id}` - 删除折扣等级

### 产品折扣配置
- `GET /admin/discount/levels/{levelId}/products` - 获取等级的产品配置
- `POST /admin/discount/products` - 创建产品折扣配置
- `PUT /admin/discount/products` - 更新产品折扣配置
- `DELETE /admin/discount/products/{id}` - 删除产品折扣配置

### 统计接口
- `GET /admin/discount/stats` - 获取折扣使用统计
- `GET /admin/discount/stats/agent/{agentId}` - 获取代理商折扣记录
- `GET /admin/discount/stats/product` - 获取产品折扣统计

## 使用说明

### 1. 设置折扣等级
1. 进入"折扣等级管理"标签页
2. 点击"新增等级"按钮
3. 填写等级信息：
   - 等级代码（如：A、B、C）
   - 等级名称（如：A级代理）
   - 等级描述
   - 排序顺序（数字越小等级越高）
4. 设置是否启用
5. 保存

### 2. 配置产品折扣
1. 进入"产品折扣配置"标签页
2. 选择要配置的折扣等级
3. 点击"新增配置"按钮
4. 选择产品类型（一日游/跟团游）
5. 选择具体产品
6. 设置折扣率（如：85表示85%即15%折扣）
7. 可选设置：
   - 最小订单金额
   - 最大折扣金额
   - 生效时间范围
8. 保存配置

### 3. 查看统计
1. 进入"折扣使用统计"标签页
2. 查看统计概览卡片
3. 设置筛选条件：
   - 时间范围
   - 产品类型
4. 查看详细数据表格
5. 可导出统计数据

## 样式特色

- **渐变色设计**：使用现代化的渐变色彩
- **卡片阴影**：增强视觉层次感
- **响应式布局**：支持移动端访问
- **交互动效**：按钮悬停和卡片动画效果
- **统一风格**：与整个后台管理系统保持一致

## 注意事项

1. **权限控制**：确保只有管理员可以访问此页面
2. **数据校验**：前端和后端都需要进行数据校验
3. **缓存策略**：折扣配置可能需要缓存优化
4. **日志记录**：重要操作需要记录操作日志
5. **备份恢复**：折扣配置变更前建议备份

## 扩展功能

未来可以考虑添加的功能：
- 折扣规则模板
- 自动化折扣调整
- 折扣效果分析
- 代理商折扣申请流程
- 折扣配置审批流程 